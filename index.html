<!doctype html>
<head><meta charset="utf-8"><title>import.meta</title><script type="application/json" id="menu-search-biblio">[{"type":"clause","id":"introduction","aoid":null,"title":"Introduction","titleHTML":"Introduction","number":"","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Introduction"},{"type":"table","id":"table-36","number":1,"caption":"Table 1: Module Record Fields","referencingIds":[],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"Table 1: Module Record Fields"},{"type":"clause","id":"sec-abstract-module-records","aoid":null,"title":"Abstract Module Records","titleHTML":"Abstract Module Records","number":"1.1.1","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":["_ref_0","_ref_1","_ref_2","_ref_14"],"key":"Abstract Module Records"},{"type":"op","aoid":"ParseModule","refId":"sec-parsemodule","location":"","referencingIds":[],"key":"ParseModule"},{"type":"clause","id":"sec-parsemodule","aoid":"ParseModule","title":"ParseModule ( sourceText, realm, hostDefined )","titleHTML":"ParseModule ( <var>sourceText</var>, <var>realm</var>, <var>hostDefined</var> )","number":"1.1.2.1","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"ParseModule ( sourceText, realm, hostDefined )"},{"type":"op","aoid":"HostGetImportMetaProperties","refId":"sec-hostgetimportmetaproperties","location":"","referencingIds":[],"key":"HostGetImportMetaProperties"},{"type":"clause","id":"sec-hostgetimportmetaproperties","aoid":"HostGetImportMetaProperties","title":"Runtime Semantics: HostGetImportMetaProperties ( body, realm, hostDefined )","titleHTML":"<ins>Runtime Semantics: HostGetImportMetaProperties ( <var>body</var>, <var>realm</var>, <var>hostDefined</var> )</ins>","number":"1.1.2.2","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":["_ref_6","_ref_11"],"key":"Runtime Semantics: HostGetImportMetaProperties ( body, realm, hostDefined )"},{"type":"op","aoid":"HostFinalizeImportMeta","refId":"sec-hostfinalizeimportmeta","location":"","referencingIds":[],"key":"HostFinalizeImportMeta"},{"type":"clause","id":"sec-hostfinalizeimportmeta","aoid":"HostFinalizeImportMeta","title":"Runtime Semantics: HostFinalizeImportMeta ( importMeta, body, realm, hostDefined )","titleHTML":"<ins>Runtime Semantics: HostFinalizeImportMeta ( <var>importMeta</var>, <var>body</var>, <var>realm</var>, <var>hostDefined</var> )</ins>","number":"1.1.2.3","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":["_ref_8"],"key":"Runtime Semantics: HostFinalizeImportMeta ( importMeta, body, realm, hostDefined )"},{"type":"clause","id":"sec-source-text-module-records","aoid":null,"title":"Source Text Module Records","titleHTML":"Source Text Module Records","number":"1.1.2","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":["_ref_3","_ref_9"],"key":"Source Text Module Records"},{"type":"clause","id":"sec-module-semantics","aoid":null,"title":"Module Semantics","titleHTML":"Module Semantics","number":"1.1","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Module Semantics"},{"type":"clause","id":"sec-modules","aoid":null,"title":"Modules","titleHTML":"Modules","number":"1","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Modules"},{"type":"production","id":"prod-MemberExpression","name":"MemberExpression","referencingIds":["_ref_15","_ref_16","_ref_17","_ref_20","_ref_24"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"MemberExpression"},{"type":"production","id":"prod-SuperProperty","name":"SuperProperty","referencingIds":["_ref_18"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"SuperProperty"},{"type":"production","id":"prod-MetaProperty","name":"MetaProperty","referencingIds":["_ref_19"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"MetaProperty"},{"type":"production","id":"prod-NewTarget","name":"NewTarget","referencingIds":["_ref_22"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"NewTarget"},{"type":"production","id":"prod-ImportMeta","name":"ImportMeta","referencingIds":["_ref_23"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"ImportMeta"},{"type":"production","id":"prod-NewExpression","name":"NewExpression","referencingIds":["_ref_25","_ref_37"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"NewExpression"},{"type":"production","id":"prod-CallExpression","name":"CallExpression","referencingIds":["_ref_27","_ref_29","_ref_30","_ref_31","_ref_38"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"CallExpression"},{"type":"production","id":"prod-SuperCall","name":"SuperCall","referencingIds":["_ref_26"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"SuperCall"},{"type":"production","id":"prod-Arguments","name":"Arguments","referencingIds":["_ref_21","_ref_28","_ref_32"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"Arguments"},{"type":"production","id":"prod-ArgumentList","name":"ArgumentList","referencingIds":["_ref_33","_ref_34","_ref_35","_ref_36"],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"ArgumentList"},{"type":"production","id":"prod-LeftHandSideExpression","name":"LeftHandSideExpression","referencingIds":[],"namespace":"https://domenic.github.io/proposal-import-meta/","location":"","key":"LeftHandSideExpression"},{"type":"clause","id":"sec-left-hand-side-expressions-static-semantics-early-errors","aoid":null,"title":"Static Semantics: Early Errors","titleHTML":"<ins>Static Semantics: Early Errors</ins>","number":"2.1.1","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Static Semantics: Early Errors"},{"type":"clause","id":"sec-static-semantics","aoid":null,"title":"Static Semantics","titleHTML":"Static Semantics","number":"2.1","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Static Semantics"},{"type":"clause","id":"sec-meta-properties-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","titleHTML":"Runtime Semantics: Evaluation","number":"2.2.1","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-meta-properties","aoid":null,"title":"Meta Properties","titleHTML":"Meta Properties","number":"2.2","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Meta Properties"},{"type":"clause","id":"sec-left-hand-side-expressions","aoid":null,"title":"Left-Hand-Side Expressions","titleHTML":"Left-Hand-Side Expressions","number":"2","namespace":"https://domenic.github.io/proposal-import-meta/","location":"","referencingIds":[],"key":"Left-Hand-Side Expressions"}]</script></head><body><div id="menu-toggle">☰</div><div id="menu-spacer"></div><div id="menu"><div id="menu-search"><input type="text" id="menu-search-box" placeholder="Search..."><div id="menu-search-results" class="inactive"></div></div><div id="menu-pins"><div class="menu-pane-header">Pins</div><ul id="menu-pins-list"></ul></div><div class="menu-pane-header">Table of Contents</div><div id="menu-toc"><ol class="toc"><li><span class="item-toggle-none"></span><a href="#introduction" title="Introduction">Introduction</a></li><li><span class="item-toggle">◢</span><a href="#sec-modules" title="Modules"><span class="secnum">1</span> Modules</a><ol class="toc"><li><span class="item-toggle">◢</span><a href="#sec-module-semantics" title="Module Semantics"><span class="secnum">1.1</span> Module Semantics</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-abstract-module-records" title="Abstract Module Records"><span class="secnum">1.1.1</span> Abstract Module Records</a></li><li><span class="item-toggle">◢</span><a href="#sec-source-text-module-records" title="Source Text Module Records"><span class="secnum">1.1.2</span> Source Text Module Records</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-parsemodule" title="ParseModule ( sourceText, realm, hostDefined )"><span class="secnum">1.1.2.1</span> ParseModule ( <var>sourceText</var>, <var>realm</var>, <var>hostDefined</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-hostgetimportmetaproperties" title="Runtime Semantics: HostGetImportMetaProperties ( body, realm, hostDefined )"><span class="secnum">1.1.2.2</span> <ins>RS: HostGetImportMetaProperties ( <var>body</var>, <var>realm</var>, <var>hostDefined</var> )</ins></a></li><li><span class="item-toggle-none"></span><a href="#sec-hostfinalizeimportmeta" title="Runtime Semantics: HostFinalizeImportMeta ( importMeta, body, realm, hostDefined )"><span class="secnum">1.1.2.3</span> <ins>RS: HostFinalizeImportMeta ( <var>importMeta</var>, <var>body</var>, <var>realm</var>, <var>hostDefined</var> )</ins></a></li></ol></li></ol></li></ol></li><li><span class="item-toggle">◢</span><a href="#sec-left-hand-side-expressions" title="Left-Hand-Side Expressions"><span class="secnum">2</span> Left-Hand-Side Expressions</a><ol class="toc"><li><span class="item-toggle">◢</span><a href="#sec-static-semantics" title="Static Semantics"><span class="secnum">2.1</span> Static Semantics</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-left-hand-side-expressions-static-semantics-early-errors" title="Static Semantics: Early Errors"><span class="secnum">2.1.1</span> <ins>SS: Early Errors</ins></a></li></ol></li><li><span class="item-toggle">◢</span><a href="#sec-meta-properties" title="Meta Properties"><span class="secnum">2.2</span> Meta Properties</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-meta-properties-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">2.2.1</span> RS: Evaluation</a></li></ol></li></ol></li></ol></div></div><div id="spec-container"><h1 class="version first">Stage 0 Draft / May 24, 2017</h1><h1 class="title">import.meta</h1>
<script src="ecmarkup.js" defer=""></script>
<link rel="stylesheet" href="ecmarkup.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_light.min.css">

<emu-intro id="introduction">
  <h1>Introduction</h1>

  <p>Background explanatory material for this specification can be found in the  <a href="https://github.com/domenic/proposal-import-meta">domenic/proposal-import-meta</a> repository. See also the  <a href="https://github.com/domenic/proposal-import-meta/issues">issues</a> list.</p>
</emu-intro>

<emu-clause id="sec-modules">
  <h1><span class="secnum">1</span>Modules</h1>

  <emu-clause id="sec-module-semantics">
    <h1><span class="secnum">1.1</span>Module Semantics</h1>

    <emu-clause id="sec-abstract-module-records">
      <h1><span class="secnum">1.1.1</span>Abstract Module Records</h1>

      <emu-table id="table-36" caption="Module Record Fields"><figure><figcaption>Table 1: <emu-xref href="#sec-abstract-module-records" id="_ref_0"><a href="#sec-abstract-module-records">Module Record</a></emu-xref> Fields</figcaption>
        <table>
          <thead>
          <tr>
            <th>
              Field Name
            
            </th>
            <th>
              Value Type
            
            </th>
            <th>
              Meaning
            
            </th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>
              [[Realm]]
            
            </td>
            <td>
              <emu-xref href="#realm-record"><a href="https://tc39.github.io/ecma262/#realm-record">Realm Record</a></emu-xref> | <emu-val>undefined</emu-val>
            
            </td>
            <td>
              The <emu-xref href="#realm"><a href="https://tc39.github.io/ecma262/#realm">Realm</a></emu-xref> within which this module was created. <emu-val>undefined</emu-val> if not yet assigned.
            
            </td>
          </tr>
          <tr>
            <td>
              [[Environment]]
            
            </td>
            <td>
              <emu-xref href="#sec-lexical-environments"><a href="https://tc39.github.io/ecma262/#sec-lexical-environments">Lexical Environment</a></emu-xref> | <emu-val>undefined</emu-val>
            
            </td>
            <td>
              The <emu-xref href="#sec-lexical-environments"><a href="https://tc39.github.io/ecma262/#sec-lexical-environments">Lexical Environment</a></emu-xref> containing the top level bindings for this module. This field is set when the module is instantiated.
            
            </td>
          </tr>
          <tr>
            <td>
              [[Namespace]]
            
            </td>
            <td>
              Object | <emu-val>undefined</emu-val>
            
            </td>
            <td>
              The Module Namespace Object (<emu-xref href="#sec-module-namespace-objects"><a href="https://tc39.github.io/ecma262/#sec-module-namespace-objects">26.3</a></emu-xref>) if one has been created for this module. Otherwise <emu-val>undefined</emu-val>.
            
            </td>
          </tr>
          <tr>
            <td>
              [[Evaluated]]
            
            </td>
            <td>
              Boolean
            
            </td>
            <td>
              Initially <emu-val>false</emu-val>, <emu-val>true</emu-val> if evaluation of this module has started. Remains <emu-val>true</emu-val> when evaluation completes, even if it is an <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">abrupt completion</a></emu-xref>.
            
            </td>
          </tr>
          <tr>
            <td><ins>[[Meta]]</ins></td>
            <td><ins>Object</ins></td>
            <td>
              <ins>An object exposed through the <code>import.meta</code> meta property. Concrete subclasses of
              the Abstract <emu-xref href="#sec-abstract-module-records" id="_ref_1"><a href="#sec-abstract-module-records">Module Record</a></emu-xref> specification type are expected to fill this field when
              creating the <emu-xref href="#sec-abstract-module-records" id="_ref_2"><a href="#sec-abstract-module-records">Module Record</a></emu-xref>, usually by delegating to the host environment.</ins>
            </td>
          </tr>
          <tr>
            <td>
              [[HostDefined]]
            
            </td>
            <td>
              Any, default value is <emu-val>undefined</emu-val>.
            
            </td>
            <td>
              Field reserved for use by host environments that need to associate additional information with a module.
            
            </td>
          </tr>
          </tbody>
        </table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-source-text-module-records">
      <h1><span class="secnum">1.1.2</span>Source Text Module Records</h1>

      <emu-clause id="sec-parsemodule" aoid="ParseModule">
        <h1><span class="secnum">1.1.2.1</span>ParseModule ( <var>sourceText</var>, <var>realm</var>, <var>hostDefined</var> )</h1>
        <p>The abstract operation ParseModule with arguments <var>sourceText</var>, <var>realm</var>, and <var>hostDefined</var> creates a <emu-xref href="#sec-source-text-module-records" id="_ref_3"><a href="#sec-source-text-module-records">Source Text Module Record</a></emu-xref> based upon the result of parsing <var>sourceText</var> as a <emu-nt><a href="https://tc39.github.io/ecma262/#prod-Module">Module</a></emu-nt>. ParseModule performs the following steps:</p>
        <emu-alg><ol><li>Assert: <var>sourceText</var> is an ECMAScript source text (see clause <emu-xref href="#sec-ecmascript-language-source-code"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-language-source-code">10</a></emu-xref>).</li><li>Parse <var>sourceText</var> using <emu-nt><a href="https://tc39.github.io/ecma262/#prod-Module">Module</a></emu-nt> as the <emu-xref href="#sec-context-free-grammars"><a href="https://tc39.github.io/ecma262/#sec-context-free-grammars">goal symbol</a></emu-xref> and analyse the parse result for any Early Error conditions. If the parse was successful and no early errors were found, let <var>body</var> be the resulting parse tree. Otherwise, let <var>body</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of one or more <emu-val>SyntaxError</emu-val> or <emu-val>ReferenceError</emu-val> objects representing the parsing errors and/or early errors. Parsing and <emu-xref href="#early-error"><a href="https://tc39.github.io/ecma262/#early-error">early error</a></emu-xref> detection may be interweaved in an implementation-dependent manner. If more than one parsing error or <emu-xref href="#early-error"><a href="https://tc39.github.io/ecma262/#early-error">early error</a></emu-xref> is present, the number and ordering of error objects in the list is implementation-dependent, but at least one must be present.</li><li>If <var>body</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of errors, return <var>body</var>.</li><li>Let <var>requestedModules</var> be the ModuleRequests of <var>body</var>.</li><li>Let <var>importEntries</var> be ImportEntries of <var>body</var>.</li><li>Let <var>importedBoundNames</var> be <emu-xref aoid="ImportedLocalNames" id="_ref_4"><a href="https://tc39.github.io/ecma262/#sec-importedlocalnames">ImportedLocalNames</a></emu-xref>(<var>importEntries</var>).</li><li>Let <var>indirectExportEntries</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>localExportEntries</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>starExportEntries</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>exportEntries</var> be ExportEntries of <var>body</var>.</li><li>For each ExportEntry <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> <var>ee</var> in <var>exportEntries</var>, do<ol><li>If <var>ee</var>.[[ModuleRequest]] is <emu-val>null</emu-val>, then<ol><li>If <var>ee</var>.[[LocalName]] is not an element of <var>importedBoundNames</var>, then<ol><li>Append <var>ee</var> to <var>localExportEntries</var>.</li></ol></li><li>Else,<ol><li>Let <var>ie</var> be the element of <var>importEntries</var> whose [[LocalName]] is the same as <var>ee</var>.[[LocalName]].</li><li>If <var>ie</var>.[[ImportName]] is <code>"*"</code>, then<ol><li>Assert: This is a re-export of an imported module namespace object.</li><li>Append <var>ee</var> to <var>localExportEntries</var>.</li></ol></li><li>Else this is a re-export of a single name,<ol><li>Append the ExportEntry <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> {[[ModuleRequest]]: <var>ie</var>.[[ModuleRequest]], [[ImportName]]: <var>ie</var>.[[ImportName]], [[LocalName]]: <emu-val>null</emu-val>, [[ExportName]]: <var>ee</var>.[[ExportName]] } to <var>indirectExportEntries</var>.</li></ol></li></ol></li></ol></li><li>Else if <var>ee</var>.[[ImportName]] is <code>"*"</code>, then<ol><li>Append <var>ee</var> to <var>starExportEntries</var>.</li></ol></li><li>Else,<ol><li>Append <var>ee</var> to <var>indirectExportEntries</var>.</li></ol></li></ol></li><li><ins>Let <var>importMeta</var> be <emu-xref aoid="ObjectCreate" id="_ref_5"><a href="https://tc39.github.io/ecma262/#sec-objectcreate">ObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</ins></li><li><ins>Let <var>importMetaValues</var> be !&nbsp;<emu-xref aoid="HostGetImportMetaProperties" id="_ref_6"><a href="#sec-hostgetimportmetaproperties">HostGetImportMetaProperties</a></emu-xref>(<var>body</var>, <var>realm</var>, <var>hostDefined</var>).</ins></li><li><ins>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> {[[Key]], [[Value]]} <var>p</var> that is an element of <var>importMetaValues</var>,</ins><ol><li><ins>Perform !&nbsp;<emu-xref aoid="CreateDataProperty" id="_ref_7"><a href="https://tc39.github.io/ecma262/#sec-createdataproperty">CreateDataProperty</a></emu-xref>(<var>importMeta</var>, <var>p</var>.[[Key]], <var>p</var>.[[Value]]).</ins></li></ol></li><li><ins>Perform !&nbsp;<emu-xref aoid="HostFinalizeImportMeta" id="_ref_8"><a href="#sec-hostfinalizeimportmeta">HostFinalizeImportMeta</a></emu-xref>(<var>importMeta</var>, <var>body</var>, <var>realm</var>, <var>hostDefined</var>).</ins></li><li>Return <emu-xref href="#sec-source-text-module-records" id="_ref_9"><a href="#sec-source-text-module-records">Source Text Module Record</a></emu-xref> {[[Realm]]: <var>realm</var>, [[Environment]]: <emu-val>undefined</emu-val>, [[HostDefined]]: <var>hostDefined</var>,<ins> [[ImportMeta]]: <var>importMeta</var>,</ins> [[Namespace]]: <emu-val>undefined</emu-val>, [[Evaluated]]: <emu-val>false</emu-val>, [[ECMAScriptCode]]: <var>body</var>, [[RequestedModules]]: <var>requestedModules</var>, [[ImportEntries]]: <var>importEntries</var>, [[LocalExportEntries]]: <var>localExportEntries</var>, [[StarExportEntries]]: <var>starExportEntries</var>, [[IndirectExportEntries]]: <var>indirectExportEntries</var>}.
        </li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-hostgetimportmetaproperties" aoid="HostGetImportMetaProperties">
        <h1><span class="secnum">1.1.2.2</span><ins>Runtime Semantics: HostGetImportMetaProperties ( <var>body</var>, <var>realm</var>, <var>hostDefined</var> )</ins></h1>

        <p>HostGetImportMetaProperties is an implementation-defined abstract operation that allows
        hosts to provide property keys and values for the object returned from <code>import.meta</code>.</p>

        <p>The implementation of HostGetImportMetaProperties must conform to the following
        requirements:</p>

        <ul>
          <li>It must return a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>, whose values are all Records with the two fields [[Key]] and
          [[Value]].</li>

          <li>Each such <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>'s [[Key]] field must be a property key, i.e., <emu-xref aoid="IsPropertyKey" id="_ref_10"><a href="https://tc39.github.io/ecma262/#sec-ispropertykey">IsPropertyKey</a></emu-xref> must
          return true when applied to it.</li>

          <li>Each such <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>'s [[Value]] field must be an ECMAScript value.</li>

          <li>It must always complete normally (i.e., not return an <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">abrupt completion</a></emu-xref>).</li>
        </ul>

        <p>The default implementation of HostGetImportMetaProperties is to return a new empty
        <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</p>
      </emu-clause>

      <emu-clause id="sec-hostfinalizeimportmeta" aoid="HostFinalizeImportMeta">
        <h1><span class="secnum">1.1.2.3</span><ins>Runtime Semantics: HostFinalizeImportMeta ( <var>importMeta</var>, <var>body</var>, <var>realm</var>, <var>hostDefined</var> )</ins></h1>

        <p>HostFinalizeImportMeta is an implementation-defined abstract operation that allows
        hosts to perform any extraordinary operations to prepare the object returned from
        <code>import.meta</code>.</p>

        <p>Most hosts will be able to simply define <emu-xref aoid="HostGetImportMetaProperties" id="_ref_11"><a href="#sec-hostgetimportmetaproperties">HostGetImportMetaProperties</a></emu-xref>, and leave
        HostFinalizeImportMeta with its default behavior. However, HostFinalizeImportMeta provies an
        "escape hatch" for hosts which need to directly manipulate the object before it is exposed
        to ECMAScript code.</p>

        <p>The implementation of HostFinalizeImportMeta must conform to the following
        requirements:</p>

        <ul>
          <li>It must always complete normally (i.e., not return an <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type">abrupt completion</a></emu-xref>).</li>
        </ul>

        <p>The default implementation of HostFinalizeImportMeta is to do nothing.</p>
      </emu-clause>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="sec-left-hand-side-expressions">
  <h1><span class="secnum">2</span>Left-Hand-Side Expressions</h1>
  <h2>Syntax</h2>
  <emu-grammar><emu-production name="MemberExpression" params="Yield, Await" id="prod-MemberExpression">
    <emu-nt params="Yield, Await"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="669d9e8f"><emu-nt params="?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-PrimaryExpression">PrimaryExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="46700b57"><emu-nt params="?Yield, ?Await" id="_ref_15"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>[</emu-t><emu-nt params="+In, ?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-Expression">Expression</a><emu-mods><emu-params>[+In, ?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>]</emu-t></emu-rhs>
    <emu-rhs a="fea749a8"><emu-nt params="?Yield, ?Await" id="_ref_16"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>.</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-IdentifierName">IdentifierName</a></emu-nt></emu-rhs>
    <emu-rhs a="27fb207d"><emu-nt params="?Yield, ?Await" id="_ref_17"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="83d44750"><emu-nt params="?Yield, ?Await" id="_ref_18"><a href="#prod-SuperProperty">SuperProperty</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="c81ee20f"><emu-nt id="_ref_19"><a href="#prod-MetaProperty">MetaProperty</a></emu-nt></emu-rhs>
    <emu-rhs a="b8554289"><emu-t>new</emu-t><emu-nt params="?Yield, ?Await" id="_ref_20"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield, ?Await" id="_ref_21"><a href="#prod-Arguments">Arguments</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production>
<emu-production name="SuperProperty" params="Yield, Await" id="prod-SuperProperty">
    <emu-nt params="Yield, Await"><a href="#prod-SuperProperty">SuperProperty</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="7f66819f"><emu-t>super</emu-t><emu-t>[</emu-t><emu-nt params="+In, ?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-Expression">Expression</a><emu-mods><emu-params>[+In, ?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>]</emu-t></emu-rhs>
    <emu-rhs a="f690ec4a"><emu-t>super</emu-t><emu-t>.</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-IdentifierName">IdentifierName</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="MetaProperty" id="prod-MetaProperty">
    <emu-nt><a href="#prod-MetaProperty">MetaProperty</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="733bdb20"><emu-nt id="_ref_22"><a href="#prod-NewTarget">NewTarget</a></emu-nt></emu-rhs><ins>
    <emu-rhs a="fdc3648f"><emu-nt id="_ref_23"><a href="#prod-ImportMeta">ImportMeta</a></emu-nt></emu-rhs>
</ins></emu-production>
<emu-production name="NewTarget" id="prod-NewTarget">
    <emu-nt><a href="#prod-NewTarget">NewTarget</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d2de213d"><emu-t>new</emu-t><emu-t>.</emu-t><emu-t>target</emu-t></emu-rhs>
</emu-production><ins>
<emu-production name="ImportMeta" id="prod-ImportMeta">
    <emu-nt><a href="#prod-ImportMeta">ImportMeta</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="f0c60de9"><emu-t>import</emu-t><emu-t>.</emu-t><emu-t>meta</emu-t></emu-rhs></emu-production></ins>

<emu-production name="NewExpression" params="Yield, Await" id="prod-NewExpression">
    <emu-nt params="Yield, Await"><a href="#prod-NewExpression">NewExpression</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="55b72ef4"><emu-nt params="?Yield, ?Await" id="_ref_24"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="8b27ffb1"><emu-t>new</emu-t><emu-nt params="?Yield, ?Await" id="_ref_25"><a href="#prod-NewExpression">NewExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production>
<emu-production name="CallExpression" params="Yield, Await" id="prod-CallExpression">
    <emu-nt params="Yield, Await"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="callcover"><emu-nt params="?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-CoverCallExpressionAndAsyncArrowHead">CoverCallExpressionAndAsyncArrowHead</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="e5c60d05"><emu-nt params="?Yield, ?Await" id="_ref_26"><a href="#prod-SuperCall">SuperCall</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="cd0d9a85"><emu-nt params="?Yield, ?Await" id="_ref_27"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield, ?Await" id="_ref_28"><a href="#prod-Arguments">Arguments</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="24037841"><emu-nt params="?Yield, ?Await" id="_ref_29"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>[</emu-t><emu-nt params="+In, ?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-Expression">Expression</a><emu-mods><emu-params>[+In, ?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>]</emu-t></emu-rhs>
    <emu-rhs a="f1fcc490"><emu-nt params="?Yield, ?Await" id="_ref_30"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>.</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-IdentifierName">IdentifierName</a></emu-nt></emu-rhs>
    <emu-rhs a="e25f4b8f"><emu-nt params="?Yield, ?Await" id="_ref_31"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production>
<emu-production name="SuperCall" params="Yield, Await" id="prod-SuperCall">
    <emu-nt params="Yield, Await"><a href="#prod-SuperCall">SuperCall</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="6b5bb3dd"><emu-t>super</emu-t><emu-nt params="?Yield, ?Await" id="_ref_32"><a href="#prod-Arguments">Arguments</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production>
<emu-production name="Arguments" params="Yield, Await" id="prod-Arguments">
    <emu-nt params="Yield, Await"><a href="#prod-Arguments">Arguments</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="78e44c33"><emu-t>(</emu-t><emu-t>)</emu-t></emu-rhs>
    <emu-rhs a="668c9409"><emu-t>(</emu-t><emu-nt params="?Yield, ?Await" id="_ref_33"><a href="#prod-ArgumentList">ArgumentList</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>)</emu-t></emu-rhs>
    <emu-rhs a="c520166a"><emu-t>(</emu-t><emu-nt params="?Yield, ?Await" id="_ref_34"><a href="#prod-ArgumentList">ArgumentList</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>,</emu-t><emu-t>)</emu-t></emu-rhs>
</emu-production>
<emu-production name="ArgumentList" params="Yield, Await" id="prod-ArgumentList">
    <emu-nt params="Yield, Await"><a href="#prod-ArgumentList">ArgumentList</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="8f532861"><emu-nt params="+In, ?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-AssignmentExpression">AssignmentExpression</a><emu-mods><emu-params>[+In, ?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="b623b4c8"><emu-t>...</emu-t><emu-nt params="+In, ?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-AssignmentExpression">AssignmentExpression</a><emu-mods><emu-params>[+In, ?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="2ab72a4a"><emu-nt params="?Yield, ?Await" id="_ref_35"><a href="#prod-ArgumentList">ArgumentList</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>,</emu-t><emu-nt params="+In, ?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-AssignmentExpression">AssignmentExpression</a><emu-mods><emu-params>[+In, ?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="d6f13c65"><emu-nt params="?Yield, ?Await" id="_ref_36"><a href="#prod-ArgumentList">ArgumentList</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt><emu-t>,</emu-t><emu-t>...</emu-t><emu-nt params="+In, ?Yield, ?Await"><a href="https://tc39.github.io/ecma262/#prod-AssignmentExpression">AssignmentExpression</a><emu-mods><emu-params>[+In, ?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production>
<emu-production name="LeftHandSideExpression" params="Yield, Await" id="prod-LeftHandSideExpression">
    <emu-nt params="Yield, Await"><a href="#prod-LeftHandSideExpression">LeftHandSideExpression</a><emu-mods><emu-params>[Yield, Await]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="a89347cc"><emu-nt params="?Yield, ?Await" id="_ref_37"><a href="#prod-NewExpression">NewExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="8699f68d"><emu-nt params="?Yield, ?Await" id="_ref_38"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield, ?Await]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production></emu-grammar>

  <emu-clause id="sec-static-semantics">
    <h1><span class="secnum">2.1</span>Static Semantics</h1>

    <emu-clause id="sec-left-hand-side-expressions-static-semantics-early-errors">
      <h1><span class="secnum">2.1.1</span><ins>Static Semantics: Early Errors</ins></h1>

      <emu-grammar><emu-production name="ImportMeta">
    <emu-nt><a href="#prod-ImportMeta">ImportMeta</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="f0c60de9"><emu-t>import</emu-t><emu-t>.</emu-t><emu-t>meta</emu-t></emu-rhs>
</emu-production></emu-grammar>

      <ul>
        <li>It is an early Syntax Error if <emu-nt><a href="https://tc39.github.io/ecma262/#prod-Module">Module</a></emu-nt> is not the syntactic <emu-xref href="#sec-context-free-grammars"><a href="https://tc39.github.io/ecma262/#sec-context-free-grammars">goal symbol</a></emu-xref>.</li>
      </ul>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-meta-properties">
    <h1><span class="secnum">2.2</span>Meta Properties</h1>

    <emu-clause id="sec-meta-properties-runtime-semantics-evaluation">
      <h1><span class="secnum">2.2.1</span>Runtime Semantics: Evaluation</h1>
      <emu-grammar><emu-production name="NewTarget" collapsed="">
    <emu-nt><a href="#prod-NewTarget">NewTarget</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d2de213d"><emu-t>new</emu-t><emu-t>.</emu-t><emu-t>target</emu-t></emu-rhs>
</emu-production></emu-grammar>
      <emu-alg><ol><li>Return <emu-xref aoid="GetNewTarget" id="_ref_12"><a href="https://tc39.github.io/ecma262/#sec-getnewtarget">GetNewTarget</a></emu-xref>().
      </li></ol></emu-alg>
    </emu-clause>

    <emu-grammar><ins><emu-production name="ImportMeta" collapsed="">
    <emu-nt><a href="#prod-ImportMeta">ImportMeta</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="f0c60de9"><emu-t>import</emu-t><emu-t>.</emu-t><emu-t>meta</emu-t></emu-rhs>
</emu-production></ins></emu-grammar>
    <emu-alg><ol><li><ins>Let <var>module</var> be <emu-xref aoid="GetActiveScriptOrModule" id="_ref_13"><a href="https://tc39.github.io/ecma262/#sec-getactivescriptormodule">GetActiveScriptOrModule</a></emu-xref>().</ins></li><li><ins>Assert: <var>module</var> is a <emu-xref href="#sec-abstract-module-records" id="_ref_14"><a href="#sec-abstract-module-records">Module Record</a></emu-xref> (not a <emu-xref href="#script-record"><a href="https://tc39.github.io/ecma262/#script-record">Script Record</a></emu-xref>).</ins></li><li><ins>Return <var>module</var>.[[ImportMeta]].</ins>
    </li></ol></emu-alg>
  </emu-clause>
  </emu-clause>

</div></body>